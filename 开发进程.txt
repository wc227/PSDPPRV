20160603
基本完成了预期的功能：能够调用宋墩文的mems.dll库文件，启动psdcloud.exe nodeserver.exe，来读取局域网上的计算机工作状态，并以图形的方式显示。


20160606
1 计算机分为三类：控制节点（只有一个），计算节点，终端。
2 修改了图形显示，分为上中下三大部分显示,分为2种情况来考虑
(1)计算节点和终端多（多于nMax），就分行显示
控制节点处于中部，水平居中显示。
计算节点处于上部，多行显示，每行最多显示nMax个，第一行可能排不满（排不满就水平居中显示），但是其他行都能排满。
终端处于下部，多行显示，每行最多显示nMax个，最后一行可能排不满（排不满就水平居中显示），但是其他行都能排满。
(2)计算节点和终端不太多的情况（少于nMax）,单行显示
计算节点处于第1行，从左往右居中显示（考虑到计算节点不会太多，一行即可显示）
控制节点处于第2行，居中（单独一行显示）
终端处于第3行，从左往右居中显示（考虑到终端不会太多，一行即可显示）


20160607
改写了图形的更新和显示机制：
旧：每次更新时删除所有原有的图形，然后添加新的图形。
新：每次更新时会去匹配计算机IP，如果IP不变，就不用删除原有的图形，只更新即可。如果IP为新，添加新的图形。如果原有的IP现在却没有了，表示该机器不存在了，就删除对应的图形。
考虑到局域网中的机器基本不会有多大变动，新的方法是更合理的。
但是经过长时间的测试，该exe所占用的内存也在缓慢的增长，还没有找到问题所在。


201606071830
1 删除了菜单栏，添加了工具栏，工具栏上添加了时间显示
2 给CMyCompInfo类添加了通信次数变量m_nComp，相应的CMyComItem的原有显示“在线”“离线”部分改为显示“通信次数”。
3 优化了图形更新


201606081715
1 修改了CMyComInfo类，跟PSDCOMCFG结构体吻合
2 修改了CMyComItem类，添加了显示FLAG的功能。
3 修改了工具栏，显示“标志”  “开始或暂停刷新” “设置”等

下一步的工作：
做一个报表，显示“IP” “通信次数” “FLAG”。可以在报表界面和图形界面之间相互切换。


20160613
1 添加了标签控件，一共显示2个页面：一个是图形显示，另一个是报表显示。
2 修改了CMyComItem类，将其计算机信息属性从指针性改成非指针型。
3 经过长时间测试，发现在MainWindows 的 UpdateScene() 可能存在如下问题：
code: 0xc0000005: read access violation at: 0x0, flags=0x0 (first chance)
目前没有找到问题的所在。估计是存在指针没有初始化的问题。下一步要仔细检查。


20160614
上午11:32
已经解决了昨天的问题：code: 0xc0000005: read access violation at: 0x0, flags=0x0 (first chance)
但是经过长时间的测试，该exe还会崩溃，但位置跟之前的不一样，没有找到问题所在。

20160614 16:30
1 解决了程序崩溃的问题。没有找到该问题的原因，但是的确解决了。新的更新图形方法是：每次都清空原有的数据和图形，然后重新添加图形。
2 报表能够显示数据（用不同颜色表示不同的类型，在线或离线）
3 功能已经基本完成，此版本可以作为版本1.0


20160624
1 MyCompInfo变量类型有改动
2 采用静态编译失败，没办法还是采用动态编译


20170328
1 删除了表格展示
2 添加了网页浏览，使用QtWebEngine控件
3 将基于mems.dll内存共享机制改成基于文件的机制。


20170412
1 采用自定义的无边框的widget替换原有的MainWindow
2 采用qss来设置界面风格


20170413
1 添加了最大化按钮，一开始窗口并不是最大化，而是设定一个默认大小。另外，添加双击功能，可以实现最大化或还原。
2 更改了局域网中计算机示意图的颜色配置。


20170414
界面重新布局，美化。
（1）系统默认的标题栏，图标很难看。不使用默认的标题栏，自定义标题栏和图标。
（2）主界面改成无边框模式，实现鼠标的单击移动，最大化，最小化，关闭等功能。
（3）添加背景图
（4）修改标签页的样式
（5）给程序添加了图标
（6）在qt creator deploye程序。


20170416
1 界面类改成MainWidget类，界面纯粹由手动代码产生，而不是.ui文件生成。
2 计算机示意图上面可现实图标（服务器，计算机节点，终端），底部显示任务进行状态（使用动态图显示，任务数越大，速度越快）
3 为了方便替换背景图和表示标题的底图，这两个图不采用资源文件形式，而是使用指定当前目录下的文件的形式。
4 暂时只显示地图一个tab页。

20170417
1 使用MapWidget对话框替换原有的MainWidget类，只显示地图，不再显示局域网监视图。
2 在main方法中使用共享内存的方式实现只显示一个进程实例。
3 如果背景图不存在，就手动绘制背景
4 如果标题图不存在，就使用文本方式显示标题。
5 XxwQtPub中添加了2个函数。


20170727
1 恢复使用MainWidget类
2 显示局域网监视图和地图


20170810
基于工程LanMonitor，并改名为PSDPPRV


20170815
添加了5个tab页面：预想故障分布图，正常潮流安全分析图，匹配项全景感知分析关联图，录波站点分布图，潮流状态比较图
但是存在一个问题：所有的5个页面显示的是同一个地图，而且可能出问题。原因未名。


201708152247
1 将局域网工作状态图页面提取出来，单独一个类实现――FormLanView。
2 将郅治的5个tab页面提取出来，单独一个类实现――FormWebMap。
3 精简主界面类MainWidget。


20170831
1 将FormWebMap改为FormWebBase类
2 修改了配置文件PSDPPRV.xml的格式，相应的配置文件管理类CfgMgr也做了修改
3 将所有的链接地址和文件参数都使用配置文件的方式进行配置。


20170907
修改了主界面，目前只显示5个tab页面：局域网工作状态分布图，预想故障分布图，正常潮流安全分析图，匹配项全景感知分析关联图，录波站点分布图。潮流状态比较图跟正常潮流安全分析图合并为一个图，程锐开发的柱状图由于存在现实问题暂时不显示。


20170920
修改了主界面：
1 将原来的“局域网工作状态图”改成现在的“导航图”。
2 只显示3个map页面。

201709202242
删除原有跟局域网工作状态图相关的源码文件和代码引用


2017.09.22
1 TPsdEvts中的evtCounter函数中添加对状态事件和应用事件的处理
2 删除了DlgWorkFlow，添加了CNaviWidget类，该类是含有导航图view的widget，其中view无边框背景透明且居中显示，但是不回复制或拉伸，使得视图和场景刚好和底图一样大小。


2017.09.27
1 添加了BorderlessMainWnd类，该类继承自QMainWindow,是一个无边框的主窗口类
2 添加了MainWnd类，该类的父类为BorderlessMainWnd类，以便能够在它里面添加QDockWidget可停靠子窗口。
3 在MainWnd中可以添加可停靠的子窗口，但是，有一个问题：可停靠子窗口就好像在主窗口外一样，不处于主窗口的标题栏下。
也就是说，如果主窗口是无边框的，则可停靠子窗口显示有可能有问题。


2017.09.28
1 将MainWnd类改成普通的主窗口，直接继承自QMainWindow，有边框有标题栏。
2 添加了可停靠窗口类CXxxwDockWidget，可以显示或隐藏窗口标题栏。
3 在主窗口MainWnd中添加了四个可停靠的子窗口，测试用。


20171019
1 添加了一个测试用的动态堆积柱形图页面
2 改进了CBarItem类的绘制和动画显示机制，更简洁易用
3 CBarItem类添加了可以控制是否循环动画的功能，同时在配置文件cfg.ini中也做了相应的修改。
4 修改了citempropertydialog界面类
5 实现了在工作状态图（导航图）中动态添加了按钮的功能，单击按钮实现预定义的功能。


20171101
1 添加了自定义的条形图XBarChart，基本实现了宋主任的要求：
动态添加条形图组，每个条形图组在同一垂直的网格线内堆积显示。
所有条形图高度和大小一致，条形图的颜色由站点类型决定，透明度由裕度值决定。
有颜色配置文件（colorcfg.ini）用来配置显示的颜色。
最多可显示5个条形图组（可修改参数）。


20171103
定制化XBarChart,改进如下：
1 横轴显示时间，后面括号里显示当前列中条形图的持续时间的最大值（靠左对齐）
2 同一列的条形图宽度不是都相同，以持续时间来表示宽度。
3 可显示多个条形图组（列），如果一个页面不够显示，那就多个页面显示。

待做：在图标下方添加“前一页”“后一页”功能按钮。
